
VHYDROCAS_RESLEVEL.LO(IY411,IA,G,S)$(IAGK_HYDRCAS(IA,G) AND IGHYRS(G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G)) = GKFX(IY411,IA,G)* HDATA(G,'HDRESERVOIR') * HMINLEVELS(G,S);
VHYDROCAS_RESLEVEL.UP(IY411,IA,G,S)$(IAGK_HYDRCAS(IA,G) AND IGHYRS(G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G)) = GKFX(IY411,IA,G) * HDATA(G,'HDRESERVOIR') ;

VHYDROCAS_PUMP_T.UP(IY411,IA,G,S,T)$(IAGK_HYDRCAS(IA,G) AND NOT IGKFIND(G) AND IGPUMP(G) AND IAGK_HASORPOT(IY411,IA,G)) = GKFX(IY411,IA,G) * HDATA(G,'HDPUMPPOWER')  ;
VHYDROCAS_VGE_S.UP(IY411,IA,G,S)$(IAGK_HYDRCAS(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND HYDROCAS_RATES(IA,G,S)) =  GKFX(IY411,IA,G) * (1$(NOT HYDROCAS_RATES(IA,G,S)) + HYDROCAS_RATES(IA,G,S));
VHYDROCAS_VGE_S.LO(IY411,IA,G,S)$(IAGK_HYDRCAS(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND IHYINFUNREG_S(IA,G,S)) =  MIN(GKFX(IY411,IA,G) * (1$(NOT HYDROCAS_RATES(IA,G,S)) + HYDROCAS_RATES(IA,G,S)), GKFX(IY411,IA,G) * IHYINFUNREG_S(IA,G,S)/SUM(T, IHYRST(S,T))) ;

VGE_T.UP(IY411,IA,G,S,T)$(IAGK_HYDRCAS(IA,G) AND  NOT IGKFIND(G) AND IGHYRR(G) AND IAGK_HASORPOT(IY411,IA,G)) = MIN(GKFX(IY411,IA,G) * (1$(NOT HYDROCAS_RATES(IA,G,S)) + HYDROCAS_RATES(IA,G,S)), GKFX(IY411,IA,G) * IHYINFUNREG_S(IA,G,S)/ IHYRST(S,T)/CARD(T)) ;
VGE_T.UP(IY411,IA,G,S,T)$(IAGK_HYDRCAS(IA,G) AND (HDATA(G,'HDTYPE') EQ STORAGE OR IGPUMP(G)) AND IAGK_HASORPOT(IY411,IA,G)) = 0;

VHYDROCAS_HSEG.UP(IY411,IA,G,HSEG,S,T)$(IAGK_HYDRCAS(IA,G) AND IGPOWERPLANT(G) AND IGHYRS(G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND IS3(S) AND NOT IHIGHUNREGSEASONS(IA,G,S))
                 = (GKFX(IY411,IA,G) - IHYINFUNREG_S(IA,G,S)*GKFX(IY411,IA,G)/IHYRST(S,T)/CARD(T))/CARD(HSEG);








