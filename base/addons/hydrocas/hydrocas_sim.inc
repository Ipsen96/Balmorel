
VHYDROCAS_RESLEVEL.LO(IY411,IA,G,S)$(IAGK_HYDROPOWER(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND HDATA(G,'HDRESERVOIR')) = GKFX(IY411,IA,G)* HDATA(G,'HDRESERVOIR') * HMINLEVELS(G,S);
VHYDROCAS_RESLEVEL.UP(IY411,IA,G,S)$(IAGK_HYDROPOWER(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND HDATA(G,'HDRESERVOIR')) = GKFX(IY411,IA,G) * HDATA(G,'HDRESERVOIR') ;

VHYDROCAS_PUMP_T.UP(IY411,IA,G,S,T)$(IAGK_HYDROPOWER(IA,G) AND NOT IGKFIND(G) AND IGPUMP(G) AND IAGK_HASORPOT(IY411,IA,G)) = GKFX(IY411,IA,G) * HDATA(G,'HDPUMPPOWER')  ;
VHYDROCAS_VGE_S.UP(IY411,IA,G,S)$(IAGK_HYDROPOWER(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND IGHYDISPATCH(G)) =  GKFX(IY411,IA,G) * (IHD_RATES(IA,G,S) + IHYINF_UNREG_S(IA,G,S)*1.000001/SUM(T, IHYRST(S,T)));
VHYDROCAS_VGE_S.LO(IY411,IA,G,S)$(IAGK_HYDROPOWER(IA,G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND IHYINF_UNREG_S(IA,G,S)) =  GKFX(IY411,IA,G) * IHYINF_UNREG_S(IA,G,S)/SUM(T, IHYRST(S,T)) ;                          !!MIN(GKFX(IY411,IA,G) * (1$(NOT HDATA(G,'HDRESERVOIR')) + IHD_RATES(IA,G,S)),

VGE_T.UP(IY411,IA,G,S,T)$(IAGK_HYDROPOWER(IA,G) AND (HDATA(G,'HDTYPE') EQ STORAGE OR IGPUMP(G)) AND IAGK_HASORPOT(IY411,IA,G)) = 0;

VHYDROCAS_HSEG.UP(IY411,IA,G,HSEG,S,T)$(IAGK_HYDROPOWER(IA,G) AND IGPOWERPLANT(G) AND IGHYDISPATCH(G) AND NOT IGKFIND(G) AND IAGK_HASORPOT(IY411,IA,G) AND IS3(S) AND NOT IHIGHUNREGSEASONS(IA,G,S))
                 = (GKFX(IY411,IA,G)*(1$(NOT IGKRATE(IA,G,S,T)) + IGKRATE(IA,G,S,T))   - IHYINF_UNREG_S(IA,G,S)*GKFX(IY411,IA,G)/IHYRST(S,T)/CARD(T))/CARD(HSEG);


