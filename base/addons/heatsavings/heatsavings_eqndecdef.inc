Equations
HEATSV_QHS(YYY,AAA,HEATSV_STEPS)  'Heat savings in an area, MW'
HEATSV_QHSACCUMNET(YYY,AAA,HEATSV_STEPS)  'Fixing accumulation of savings'
HEATSV_QEXPMAX(YYY,AAA,HEATSV_STEPS) 'Maximum of heat savings per time step summed to accumulated capacity'
HEATSV_QHSPERCENT_T(YYY,AAA,HEATSV_STEPS,SSS,TTT) 'Percentage of demand fixed per timestep'
$ifi not %INDHEAT%==yes $goto endINDHEATdec
HEATSV_QINDHEATHS(YYY,AAA,HEATSV_STEPS)  'Heat savings in an individual heating area, MW'
$label endINDHEATdec
;

HEATSV_QHS(IY411,IA,HEATSV_STEPS)$HEATSV_POT(IA,HEATSV_STEPS)..

        HEATSV_VHSACCUMNET(IY411,IA,HEATSV_STEPS) =l= HEATSV_POT(IA,HEATSV_STEPS);

HEATSV_QHSACCUMNET(IY411,IA,HEATSV_STEPS)$HEATSV_POT(IA,HEATSV_STEPS) ..
         HEATSV_VHSACCUMNET(IY411,IA,HEATSV_STEPS)
         =e=
         SUM(IY402$IY411PREVY(IY411,IY402),HEATSV_VHSACCUMNET(IY402,IA,HEATSV_STEPS))$(NOT IYFIRST(IY411))
         + HEATSV_VHS(IY411,IA,HEATSV_STEPS)
;


HEATSV_QEXPMAX(IY411,IA,HEATSV_STEPS)$HEATSV_POT(IA,HEATSV_STEPS) ..
         SUM((IS3,T),IHOURSINST(IS3,T) * HEATSV_VHS_T(IY411,IA,HEATSV_STEPS,IS3,T))
         =l=
         HEATSV_VHSACCUMNET(IY411,IA,HEATSV_STEPS)
;

HEATSV_QHSPERCENT_T(IY411,IA,HEATSV_STEPS,IS3,T)$HEATSV_POT(IA,HEATSV_STEPS) ..
         HEATSV_VHS_T(IY411,IA,HEATSV_STEPS,IS3,T) =e= HEATSV_VHSPERCENT(IY411,IA,HEATSV_STEPS)*DH_VAR_T(IA,'RESH',IS3,T)
;



$ifi not %INDHEATSAV%==yes $goto endINDHEATdef
HEATSV_QINDHEATHS(Y,INDHEAT_IA,HEATSV_STEPS)..

        HEATSV_VINDHEATHSACCUMNET(Y,INDHEAT_IA,HEATSV_STEPS) =l= HEATSV_INDHEATPOT(INDHEAT_IA,HEATSV_STEPS);
$label endINDHEATdef
