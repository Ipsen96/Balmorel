PARAMETER DECOM_G(YYY,YYY,AAA,GGG)  'DECOMMISIONING YEAR OF ENDOGENOUS GENERATION INVESTMENTS DEPENDING ON INVESTMENT YEAR';                                                                                                                           
*Decomissioning year                                                                                                                                                                                                                                   
LOOP(YYY,                                                                                                                                                                                                                                              
                     LOOP((AAA,G)$AGKN(AAA,G),                                                                                                                                                                                                         
                                          IF((((YVALUE(YYY)+(GDATA(G,'GDLIFETIME'))<= SUM(IYYYALIAS$(ORD(IYYYALIAS) EQ CARD(IYYYALIAS)),YVALUE(IYYYALIAS)) AND (YVALUE(YYY) >= GDATA(G,'GDFROMYEAR')) AND (YVALUE(YYY) <= GDATA(G,'GDLASTYEAR'))))),   
                                             DECOM_G(YYY,YYY+GDATA(G,'GDLIFETIME'),AAA,G)=1;                                                                                                                                                           
                                             );                                                                                                                                                                                                        
                     );                                                                                                                                                                                                                                
);                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                       
*Correction of decommissioning year depending on Y set                                                                                                                                                                                                 
LOOP(Y,                                                                                                                                                                                                                                                
          LOOP((AAA,G)$AGKN(AAA,G),                                                                                                                                                                                                                    
                                    LOOP(YYY,                                                                                                                                                                                                          
                                              LOOP(IYYYALIAS,                                                                                                                                                                                          
                                                          IF(((DECOM_G(YYY,IYYYALIAS,AAA,G)=1) AND (YVALUE(IYYYALIAS) <= YVALUE(Y+1)) AND (YVALUE(IYYYALIAS) > YVALUE(Y)) AND (YVALUE(IYYYALIAS) < 2050) ),                                            
                                                          DECOM_G(YYY,IYYYALIAS,AAA,G)=0;                                                                                                                                                              
                                                          DECOM_G(YYY,Y+1,AAA,G)=1;                                                                                                                                                                    
                                                          );                                                                                                                                                                                           
                                              );                                                                                                                                                                                                       
                                    );                                                                                                                                                                                                                 
         );                                                                                                                                                                                                                                            
);                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                       
